# =============================================================================
# GENESIS v3 Environment Variables
# =============================================================================
# Copy this file to .env and fill in the values.
#
# For PRODUCTION deployments, pay special attention to variables marked with
# [PRODUCTION] â€” these MUST be changed from their defaults.
#
# For development, the defaults below work out of the box with docker-compose.
# =============================================================================

# =============================================================================
# Database
# =============================================================================
# [PRODUCTION] Use a strong password and consider connection pooling (PgBouncer)
DATABASE_URL=postgresql+asyncpg://genesis:genesis@db:5432/genesis
DATABASE_URL_SYNC=postgresql://genesis:genesis@db:5432/genesis
POSTGRES_USER=genesis
# [PRODUCTION] MUST change this to a strong, random password
POSTGRES_PASSWORD=genesis
POSTGRES_DB=genesis

# =============================================================================
# Redis
# =============================================================================
REDIS_URL=redis://redis:6379/0

# =============================================================================
# Claude API (God AI)
# =============================================================================
# [PRODUCTION] Set your Anthropic API key
ANTHROPIC_API_KEY=your_api_key_here
CLAUDE_MODEL=claude-opus-4-20250514
CLAUDE_OPUS_MODEL=claude-opus-4-20250514
CLAUDE_HAIKU_MODEL=claude-haiku-4-5-20251001
CLAUDE_DAILY_BUDGET_USD=5.0
CLAUDE_COST_TRACKING=true

# =============================================================================
# Ollama (Local LLM)
# =============================================================================
OLLAMA_HOST=http://host.docker.internal:11434
OLLAMA_MODEL=llama3.1:8b
OLLAMA_CONCURRENCY=4
OLLAMA_NUM_GPU=-1
OLLAMA_NUM_PREDICT=512

# =============================================================================
# Server / Security
# =============================================================================
# [PRODUCTION] MUST change to a random 64+ character string
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(64))"
SECRET_KEY=change-this-to-a-random-secret-key

# [PRODUCTION] Set to false
DEBUG=false

# [PRODUCTION] MUST set to your actual domain(s), e.g. https://genesis-pj.net
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# [PRODUCTION] Recommended: WARNING or ERROR
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# =============================================================================
# Gunicorn (Production backend)
# =============================================================================
# Number of gunicorn worker processes
# [PRODUCTION] Recommended: 2 * CPU_CORES + 1 (max 8)
GUNICORN_WORKERS=4

# =============================================================================
# Celery (Task processing)
# =============================================================================
# [PRODUCTION] Recommended: match CPU core count
CELERY_WORKER_CONCURRENCY=4

# =============================================================================
# Production Domain & SSL
# =============================================================================
# [PRODUCTION] MUST set to your domain
DOMAIN=your-domain.com
ACME_EMAIL=your-email@example.com

# HTTP/HTTPS ports (change if running behind another reverse proxy)
HTTP_PORT=80
HTTPS_PORT=443

# =============================================================================
# World Settings (v3)
# =============================================================================
INITIAL_NATIVE_AI_COUNT=0
MAX_ENTITIES_PER_INSTANCE=100
TICK_INTERVAL_MS=1000
AI_THINKING_INTERVAL_MS=10000

# =============================================================================
# Legacy (backward compat)
# =============================================================================
INITIAL_AI_COUNT=0
MAX_AI_COUNT=1000

# =============================================================================
# Admin Auth
# =============================================================================
ADMIN_USERNAME=admin
# [PRODUCTION] MUST change this to a strong password
ADMIN_PASSWORD=change-this-password

# =============================================================================
# User Agents
# =============================================================================
MAX_AGENTS_PER_USER_FREE=1
MAX_AGENTS_PER_USER_PREMIUM=5

# =============================================================================
# OAuth (Google)
# =============================================================================
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# =============================================================================
# OAuth (GitHub)
# =============================================================================
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# =============================================================================
# OAuth general
# =============================================================================
# [PRODUCTION] MUST update to your actual URLs
OAUTH_REDIRECT_BASE=http://localhost:8000
FRONTEND_URL=http://localhost:3000

# =============================================================================
# Translation (optional)
# =============================================================================
DEEPL_API_KEY=
